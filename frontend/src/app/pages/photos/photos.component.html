<h1>"–ó–∞ –ø—Ä–µ–¥–µ–ª–∞–º–∏ —Å—Ç—Ä–æ–∫"</h1>
<p>
  –ü—É—Ç–µ—à–µ—Å—Ç–≤–∏—è —Å–∫–≤–æ–∑—å –æ–±—ä–µ–∫—Ç–∏–≤. –ò–º–µ–Ω–Ω–æ –ø—É—Ç–µ—à–µ—Å—Ç–≤–∏—è... –ö —Å–µ–±–µ... –ö —Å–≤–æ–µ–º—É —Å–µ—Ä—Ü—É.
  <b>–í–µ–¥—å, –∫–∞–∂–¥—ã–π —Å–Ω–∏–º–æ–∫ ‚Äî –∏—Å—Ç–æ—Ä–∏—è. –ö–∞–∂–¥—ã–π –∫–∞–¥—Ä ‚Äî –º–æ–º–µ–Ω—Ç –∂–∏–∑–Ω–∏.</b> <br />–ó–¥–µ—Å—å –≤—ã –º–æ–∂–µ—Ç–µ –Ω–µ —Ç–æ–ª—å–∫–æ
  –ª–∏—Ü–µ–∑—Ä–µ—Ç—å –∫—Ä–∞—Å–æ—Ç—É –≤–æ–∫—Ä—É–≥, –Ω–æ –∏ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∞—Ç—å —Å–≤–æ—é —Ñ–∞–Ω—Ç–∞–∑–∏—é –∏ —É–ª—É—á—à–∞—Ç—å –Ω–∞–≤—ã–∫–∏ —Ä–∏—Å–æ–≤–∞–Ω–∏—è, –∏—Å–ø–æ–ª—å–∑—É—è
  –Ω–∞—à—É "—Ä–∏—Å–æ–≤–∞–ª–∫—É".<br />
  –í –º–∏—Ä–µ, –≥–¥–µ —Ä–µ–∞–ª—å–Ω–æ—Å—Ç—å –∏ —Ñ–∞–Ω—Ç–∞–∑–∏—è –ø–æ—Ä–æ–π –ø–µ—Ä–µ–ø–ª–µ—Ç–∞—é—Ç—Å—è —Ç–∞–∫ –∫—Ä–∞—Å–∏–≤–æ, —á—Ç–æ –ø–µ—Ä–µ—Å—Ç–∞—ë—à—å –∑–∞–º–µ—á–∞—Ç—å –≥—Ä–∞–Ω–∏—Ü—É
  –º–µ–∂–¥—É –Ω–∏–º–∏. <br />
  –ö—Å—Ç–∞—Ç–∏, –º–æ—è —Ñ–∞–Ω—Ç–∞–∑–∏—è –∏ –º–æ–∏ –≥–ª–∞–∑–∞ –Ω–µ –ø–µ—Ä–µ—Å—Ç–∞—é—Ç –º–µ–Ω—è —É–¥–∏–≤–ª—è—Ç—å: <br />
  –ù–µ –ø–æ–≤–µ—Ä–∏—Ç–µ, –æ–¥–Ω–∞–∫–æ, –ª–µ—Ç–æ–º, –≤ –æ–¥–∏–Ω –∏–∑ –ø—Ä–æ—Ö–ª–∞–¥–Ω—ã—Ö –¥–Ω–µ–π, —è —Ä–µ–∞–ª—å–Ω–æ –≤—Å—Ç—Ä–µ—Ç–∏–ª –¥—Ä–∞–∫–æ–Ω–∞ –Ω–∞–¥ –ö–∞–∑–Ω—å—é
  <img class="example" src="http://localhost:5012/uploads/_Dragon_init.webp" /> (<img
    class="example"
    src="http://localhost:5012/uploads/_Dragon_.webp"
  />). <br />
  –ù—É –∞ –∫–∞–∫ –∂–µ –∏–Ω–∞—á–µ ‚Äî –∫–æ–≥–¥–∞ —Å–º–æ—Ç—Ä–∏—à—å –Ω–∞ –º–∏—Ä —Å–µ—Ä–¥—Ü–µ–º, –æ–Ω–∏ –ø–æ—Ä–æ–π –ø—Ä–∏–ª–µ—Ç–∞—é—Ç.üòè<br />
  –ê –≤–æ—Ç —Ç–æ—Ç –∂–µ –¥—Ä–∞–∫–æ–Ω, —Ç–æ–ª—å–∫–æ —Å —Ä—é–∫–∑–∞–∫–æ–º –∏ –≤ —à–∞–ø–∫–µ
  <img class="example" src="http://localhost:5012/uploads/_Dragon_with_backpack_init.webp" /> (<img
    class="example"
    src="http://localhost:5012/uploads/_Dragon_with_backpack.webp"
  />) –í–∏–¥–∏–º–æ, –Ω–∞—á–∞–ª –ø–æ–¥–º–µ—Ä–∑–∞—Ç—å, —Ä–∞–∑ –Ω–∞–¥–µ–ª —à–∞–ø–∫—É...ü§î<br /><br />
  –ö —Å–ª–æ–≤—É —Å–∫–∞–∑–∞—Ç—å, –ø—Ä–∏–ª–µ—Ç–∞—é—Ç –Ω–µ —Ç–æ–ª—å–∫–æ –¥—Ä–∞–∫–æ–Ω—ã. –í–æ—Ç, –∫ –ø—Ä–∏–º–µ—Ä—É, –ø–æ–≤—Å—Ç—Ä–µ—á–∞–≤—à–∏–π—Å—è –º–Ω–µ –æ–¥–Ω–∞–∂–¥—ã, –ü–µ–≥–∞—Å
  (<img class="example" src="http://localhost:5012/uploads/_Pegas_init.webp" /> ) <br /><br />
  –ê –µ—Å–ª–∏ –ø—Ä–∏—Å–º–æ—Ç—Ä–µ—Ç—å—Å—è, —Ç–æ –∏ —Ç—É—Ç, –∏ —Ç–∞–º, –≤ —Å–∞–º—ã—Ö –æ–±—ã—á–Ω—ã—Ö –≤–µ—â–∞—Ö, –º–æ–∂–Ω–æ –∑–∞–º–µ—Ç–∏—Ç—å —Å–∞–º—ã–µ –Ω–µ–≤–µ—Ä–æ—è—Ç–Ω—ã–µ
  –≤–µ—â–∏ ‚Äî —Ö–æ—Ç—å –¥–∞–∂–µ –ø–æ—Ä—Ç–∞–ª –≤ –¥—Ä—É–≥–æ–µ –∏–∑–º–µ—Ä–µ–Ω–∏–µ:<img
    class="example"
    src="http://localhost:5012/uploads/_Portal_.webp"
  />
  (<img class="example" src="http://localhost:5012/uploads/_Portal_.webp" />)<br />
  –ò –ø–æ–¥–æ–±–Ω—ã—Ö —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–π, –¥–∞—é—â–∏—Ö –ø—Ä–æ—Å—Ç–æ—Ä —Ñ–∞–Ω—Ç–∞–∑–∏–∏ –≤—ã –Ω–∞–π–¥—ë—Ç–µ –∑–¥–µ—Å—å –Ω–µ–º–∞–ª–æ.<br /><br />
  <b>–í—Å–µ –ø—Ä–æ—Å—Ç–æ:</b> <br />- –ù–∞—Ö–æ–¥–∏—Ç–µ –ø–æ–Ω—Ä–∞–≤–∏–≤—à–µ–µ—Å—è —Ñ–æ—Ç–æ, <br />- –û—Ç–∫—Ä—ã–≤–∞–µ—Ç–µ —Ä–∏—Å–æ–≤–∞–ª–∫—É, <br />-
  –í—ã–±–∏—Ä–∞–µ—Ç–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã, —Ü–≤–µ—Ç–∞ –∏... <br />- –ò —Ä–∏—Å—É–µ—Ç–µ, —á—Ç–æ –ø–æ–¥—Å–∫–∞–∂–µ—Ç –≤–∞–º —Å–µ—Ä–¥—Ü–µ. <br />
  –ö —Å–æ–∂–∞–ª–µ–Ω–∏—é, –Ω–∞ —Ç–µ–∫—É—â–∏–π –º–æ–º–µ–Ω—Ç –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Å–æ—Ö—Ä–∞–Ω—è—Ç—å –≤–∞—à–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –Ω–∞ —Å–∞–π—Ç–µ –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç, –æ–±–µ—â–∞—é
  —ç—Ç–æ –∏—Å–ø—Ä–∞–≤–∏—Ç—å –≤ –æ–¥–Ω–æ–º –∏–∑ –±—É–¥—É—â–∏—Ö –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π. –¢–µ–º –Ω–µ –º–µ–Ω–µ–µ, –≤—ã –º–æ–∂–µ—Ç–µ —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏—Ö —Å–µ–±–µ –≤ –æ–¥–Ω–æ–º –∏–∑
  3 —Ñ–æ—Ä–º–∞—Ç–æ–≤ –∏ –±–æ–ª–µ–µ —Ç–æ–≥–æ –º–æ–∂–Ω–æ —Å—Ä–∞–∑—É –∂–µ –¥–∞—Ç—å –í–∞—à–µ–π –∫–∞—Ä—Ç–∏–Ω–µ –ª—é–±–æ–µ –ø–æ–¥—Ö–æ–¥—è—â–µ–µ –Ω–∞ –í–∞—à –≤–∑–≥–ª—è–¥ –Ω–∞–∑–≤–∞–Ω–∏–µ.
  –†–∏—Å—É–π—Ç–µ, —Å–æ—Ö—Ä–∞–Ω—è–π—Ç–µ –∏—Ö —Å–µ–±–µ, –¥–µ–ª–∏—Ç–µ—Å—å —Å –¥—Ä—É–∑—å—è–º–∏ –≤–∞—à–∏–º–∏ –∫–∞—Ä—Ç–∏–Ω–∞–º–∏, –Ω–µ –∑–∞–±—ã–≤–∞—è –æ—Ç–º–µ—á–∞—Ç—å –Ω–∞—Åüòâ
</p>

<div *ngIf="!previewPhoto && !selectedPhoto" class="gallery-wrapper">
  <h2 class="title">–ì–∞–ª–µ—Ä–µ—è —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–π</h2>
  <div class="gallery">
    <div class="photo-card" *ngFor="let p of photos">
      <img [src]="p" (click)="openPreview(p)" />
    </div>
  </div>
</div>

<!-- –ü—Ä–æ—Å–º–æ—Ç—Ä -->
<div *ngIf="previewPhoto && !selectedPhoto" class="preview-wrapper">
  <div class="preview-overlay" (click)="closePreview()"></div>

  <div class="preview-box">
    <img class="preview-img" [src]="previewPhoto" />

    <div class="preview-buttons">
      <button (click)="prevPhoto()" [disabled]="currentIndex <= 0">‚¨Ö –ü—Ä–µ–¥—ã–¥—É—â–µ–µ</button>
      <button (click)="openEditor(previewPhoto)">–û—Ç–∫—Ä—ã—Ç—å –≤ —Ä–∏—Å–æ–≤–∞–ª–∫–µ</button>
      <button (click)="nextPhoto()" [disabled]="currentIndex >= photos.length - 1">
        –°–ª–µ–¥—É—é—â–µ–µ ‚û°
      </button>
      <button class="close" (click)="closePreview()">–ó–∞–∫—Ä—ã—Ç—å</button>
    </div>
  </div>
</div>

<div *ngIf="selectedPhoto" class="editor-wrapper">
  <div class="editor-header">
    <button class="back-btn" (click)="closeEditor()">‚Üê –ù–∞–∑–∞–¥ –∫ –≥–∞–ª–µ—Ä–µ–µ</button>

    <div class="tools">
      <label>–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç:</label>
      <select [(ngModel)]="currentTool">
        <option value="pen">–†—É—á–∫–∞</option>
        <option value="marker">–ú–∞—Ä–∫–µ—Ä</option>
        <option value="brush">–ö–∏—Å—Ç—å</option>
        <option value="shadow">–¢–µ–Ω—å</option>
        <option value="spray">–°–ø—Ä–µ–π</option>
      </select>

      <label>–¶–≤–µ—Ç:</label>
      <input type="color" [(ngModel)]="currentColor" />

      <label>–†–∞–∑–º–µ—Ä: {{ currentSize }}</label>
      <input type="range" min="1" max="50" [(ngModel)]="currentSize" />

      <label>–ü—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å: {{ currentOpacity }}</label>
      <input type="range" min="0.1" max="1" step="0.05" [(ngModel)]="currentOpacity" />
    </div>

    <div class="history-buttons">
      <button (click)="undo()">–û—Ç–º–µ–Ω–∏—Ç—å</button>
      <button (click)="redo()">–í–µ—Ä–Ω—É—Ç—å</button>
      <!-- <button (click)="clearAll()">–û—á–∏—Å—Ç–∏—Ç—å</button> -->
    </div>

    <div class="save-buttons">
      <button (click)="saveAs('png')">PNG</button>
      <button (click)="saveAs('jpg')">JPG</button>
      <button (click)="saveAs('webp')">WEBP</button>
    </div>
  </div>

  <div
    class="editor-canvas-area"
    style="position: relative; display: flex; justify-content: center; align-items: center"
  >
    <img #hiddenImage [src]="selectedPhoto" crossorigin="anonymous" style="display: none" />

    <div
      class="canvas-box"
      style="
        position: relative;
        width: 100%;
        max-width: 90vw;
        max-height: 90vh;
        display: flex;
        justify-content: center;
        align-items: center;
      "
    >
      <!-- canvases: bg(1) / drawing(2) / preview(3) -->
      <canvas #backgroundCanvas class="layer"></canvas>
      <canvas #drawingCanvas class="layer"></canvas>
      <canvas #previewCanvas class="layer"></canvas>
    </div>
  </div>
</div>
